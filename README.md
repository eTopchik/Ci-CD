# CI-CD homework


1. Зарегистрироваться на https://hub.docker.com/ и обернуть логин и пароль в GtiLab CI/CD Variables (пароль с маскировкой)
2. Написать .gitlab-ci.yml со стадиями **build** и **test**.  
2.1 Шаг сборки стандартный для докер образов. Версия сборки должна соответствовать v1.0."внутренный номер пайплайна".  
2.2 Для шага тестирования написать docker-compose.yaml с двумя сервисами: первый (app) - сам сервис по имеющемуся Dockerfile, второй (test) - чекер на ьазе образа curl с проверкой доступности рабочего порта app с предварительной задержкав в ~10 секунд.  
2.3 Шаг build должен запускаться только для ветки develop. Шаг test должен запускаться только для веток, название которых начинается со слова "Release-" и эти ветки должны быть автоматичеки protected от прямого пуша.  
3. Оптимизировать конфигурацию CI/CD путём выноса исходников в отдельный репозиторий, импортировать их в текущем репозитории и с помощью extend определить разные варианты шагов для stage и prod.  
